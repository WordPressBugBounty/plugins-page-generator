var page_generator_pro_generating=!1,page_generator_pro_cancelled=!1,page_generator_pro_response=!1;function pageGeneratorProGenerateBrowser(){var $;$=jQuery,page_generator_pro_generate_browser.number_of_requests=Number(page_generator_pro_generate_browser.number_of_requests),page_generator_pro_generate_browser.resume_index=Number(page_generator_pro_generate_browser.resume_index),void 0!==page_generator_pro_generate_browser.browser_title&&(document.title="üïê "+page_generator_pro_generate_browser.resume_index+"/"+page_generator_pro_generate_browser.number_of_requests+" "+page_generator_pro_generate_browser.browser_title.processing),page_generator_pro_generating=!0,$("#progress-bar").synchronous_request({url:ajaxurl,number_requests:page_generator_pro_generate_browser.number_of_requests,offset:page_generator_pro_generate_browser.resume_index,data:{id:page_generator_pro_generate_browser.id,action:page_generator_pro_generate_browser.action,nonce:page_generator_pro_generate_browser.nonce,last_generated_post_date_time:page_generator_pro_generate_browser.last_generated_post_date_time},wait:page_generator_pro_generate_browser.stop_on_error_pause,stop_on_error:page_generator_pro_generate_browser.stop_on_error,onRequestSuccess:function(e,r){if(page_generator_pro_response=e,$("#log ul li").length>=100&&$("#log ul").html(""),e.success){var a=e.data.message+' <a href="'+e.data.url+'" target="_blank">'+e.data.url+"</a><br />Time: "+e.data.duration+" seconds. Memory Usage / Peak: "+e.data.memory_usage+"/"+e.data.memory_peak_usage+"MB",o=e.data.generated?"success":"warning";for(var t in e.data.keywords_terms)a+="<br />{"+t+"}: "+e.data.keywords_terms[t];$("#log ul").append('<li class="'+o+'">'+(r+1)+"/"+page_generator_pro_generate_browser.max_number_of_pages+": "+a+"</li>"),void 0!==page_generator_pro_generate_browser.browser_title&&(document.title="üïê "+(r+1)+"/"+page_generator_pro_generate_browser.max_number_of_pages+" "+page_generator_pro_generate_browser.browser_title.processing)}else{switch(a=r+1+"/"+page_generator_pro_generate_browser.max_number_of_pages+": Response Error: "+e.data,page_generator_pro_generate_browser.stop_on_error){case 1:break;case 0:a=a+". Waiting "+page_generator_pro_generate_browser.stop_on_error_pause/1e3+" seconds before attempting to regenerate this item.";break;case-1:a=a+". Waiting "+page_generator_pro_generate_browser.stop_on_error_pause/1e3+" seconds before generating the next item."}$("#log ul").append('<li class="error">'+a+"</li>")}return 1!=page_generator_pro_cancelled},onRequestError:function(e,r,a,o){return $("#log ul li").length>=100&&$("#log ul").html(""),$("#log ul").append('<li class="error">'+(o+1)+"/"+page_generator_pro_generate_browser.number_of_requests+": Request Error: "+e.status+" "+e.statusText+"</li>"),1!=page_generator_pro_cancelled},updateSettings:function(e){return page_generator_pro_generating||pageGeneratorProGenerateBrowserStarted(),e.data.last_generated_post_date_time=page_generator_pro_response.data.last_generated_post_date_time,e},onFinished:function(){page_generator_pro_generating=!1,1==page_generator_pro_cancelled?($("#log ul").append('<li class="success">Process cancelled by user</li>'),void 0!==page_generator_pro_generate_browser.browser_title&&(document.title="üõë "+page_generator_pro_generate_browser.browser_title.cancelled)):($("#log ul").append('<li class="success">Finished</li>'),void 0!==page_generator_pro_generate_browser.browser_title&&(document.title="‚úÖ "+page_generator_pro_generate_browser.browser_title.success)),$("a.page-generator-pro-generate-cancel-button").hide(),$("a.page-generator-pro-generate-return-button").removeClass("page-generator-pro-generate-return-button"),pageGeneratorProGenerateBrowserStopped()}}),$("a.page-generator-pro-generate-cancel-button").on("click",(function(e){e.preventDefault(),page_generator_pro_cancelled=!0}))}function pageGeneratorProGenerateBrowserStarted(){page_generator_pro_generating=!0,jQuery.ajax({url:ajaxurl,type:"POST",async:!0,data:{id:page_generator_pro_generate_browser.id,action:page_generator_pro_generate_browser.action_on_start},error:function(e,r,a){},success:function(e){}})}function pageGeneratorProGenerateBrowserStopped(){page_generator_pro_generating=!1,jQuery.ajax({url:ajaxurl,type:"POST",async:!0,data:{id:page_generator_pro_generate_browser.id,action:page_generator_pro_generate_browser.action_on_finished},error:function(e,r,a){},success:function(e){}})}window.addEventListener("beforeunload",(function(e){page_generator_pro_generating&&(pageGeneratorProGenerateBrowserStopped(),e.returnValue=page_generator_pro_generate_browser.exit_screen)})),pageGeneratorProGenerateBrowser();